<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'/>
        <script src='https://create3000.github.io/code/x_ite/latest/x_ite.min.js'></script>
        <style> x3d-canvas { width: 400px; height: 200px;} </style>
    </head>
    <body>
        <x3d-canvas>
        <X3D profile='Immersive'>
            <Scene>
                <Viewpoint description ='vista panoramica' orientation = '1 0 0 -0.35' position = '0 20 40'></Viewpoint>
                <Shape>
                    <Appearance>
                        <Material></Material>
                    </Appearance>
                    <Box size = '20 0.5 20'></Box> 
                </Shape>   

                <Transform translation= '0 1.25 0' >
                    <Transform rotation = '1 0 0 1.57'>
                        <PlaneSensor DEF='Muevepeon'></PlaneSensor>
                        <Transform DEF='peon' rotation = '1 0 0 -1.57'>
                            <Transform translation= '0 1.5 0'>
                                <Shape>
                                    <Appearance>
                                        <Material DEF = 'Rojo' diffuseColor = '1 0 0'></Material>
                                    </Appearance>
                                    <Sphere radius= '1'></Sphere>
                                </Shape>
                            </Transform>
                            <Shape>
                                <Appearance>
                                    <Material USE = 'Rojo'></Material>
                                </Appearance>
                                <Cone height= '2' bottomRadius= '1' bottom= 'true'></Cone>
                            </Shape>
                        </Transform>
                    </Transform>
                    <ROUTE fromNode='Muevepeon' fromField='translation_changed' toNode='peon' toField='set_translation'></ROUTE>
                </Transform>
            </Scene>
        </X3D>
    </x3d-canvas>
  </body>
</html>
